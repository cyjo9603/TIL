# 객체

- 자바스크립트의 자료형 중 하나인 객체형은 원시형과 달리 다양한 데이터를 담을 수 있다.
- 키로 구분된 데이터집합이나 복잡한 개체(entity)를 저장할 수 있다.
- 객체는 자바스크립트 거의 모든 면에 녹아있는 개념이므로 자바스크립트를 잘 다루려면 객체를 잘 이해하고 있어야 한다.

## 객체의 생성

- 객체는 중괄호`{...}`를 이용해 만들 수 있다.
- 중괄호 안에는 '키(key)와 값(value)'쌍으로 구성된 속성(property)를 여러 개 넣을 수 있는데 키엔 문자형, 값엔 모든 자료형이 허용된다.
- 중괄호를 이용해 객체를 선언하는 것을 객체 리터럴(object literal)이라고 부르며 객체를 선언할 땐 주로 이 방법을 사용한다.

## 리터럴과 프로퍼티

```jsx
const user = {
	name: 'Cho',
	age: 25,
	'likes birds': true,
};

user.name; // 'Cho'
```

- 콜론`:`을 기준으로 왼쪽엔 키, 오른쪽엔 값이 위치한다.
- 여러 단어를 조합해 프로퍼티 이름을 만든 경우엔 프로퍼티 이름을 따옴표로 묶어줘야 한다.
- 점 표기법을 이용해 프로퍼티의 값을 읽을 수 있다.

### 프로퍼티 추가

```jsx
user.isAdmin = true;
user['phone'] = '010-0000-0000';
```

- 프로퍼티 값엔 모든 자료형이 올 수 있다.
- 프로퍼티를 추가할 땐 점 표기법과 대괄호 표기법을 이용해 값을 추가할 수 있다.

### 프로퍼티 제거

```jsx
delete user.age;
delete user['isAdmin'];
```

- `delete` 연산자를 사용하면 프로퍼티를 삭제할 수 있다.

### 단축 프로퍼티

```jsx
function makeUser(name, age) {
	return {
		name,
		age,
	}
}
```

- 프로퍼티의 이름과 값이 변수의 이름과 동일한 경우 프로퍼티 값 단축 구문을 사용해 코드를 짧기 줄일 수 있다.

### 객체 정렬 방식

- 객체는 특별한 방식으로 정렬된다. 정수 프로퍼티는 자동으로 정렬되고 그 외의 프로퍼티는 객체에 추가한 순서 그대로 정렬된다.

### 프로퍼티 이름의 제약사항

- 변수 이름에는 `for`, `let`, `return`같은 예약어를 사용하면 안되지만 객체 프로퍼티엔 이런 제약이 없다.
- 문자형이나 심볼형에 속하지 않은 값은 문자열로 자동 형 변환이 된다.

### 프로퍼티 존재 여부 확인

```jsx
user.noSuchProperty; // undefined
'name' in user; // true
```

- 객체는 존재하지 않는 프로퍼티에 접근하려 해도 에러가 발생하지 않고 `undefined`를 반환한다.
- `in`연산자를 사용하면 간단하게 프로퍼티의 존재 여부를 확인할 수 있고 값이 존재하면 `true`, 존재하지 않으면 `false`를 반환한다.
- 프로퍼티의 값이 `undefined`일 경우도 있으므로 `in`연산자를 사용해 확인하는 것이 좋다.

## for 객체 반복문

### 1. for in문

`for ({key} in {object}) { }`

 - {key}는 객체 안에 있는 필드를 변수로 받는다. ex) `for (const key in a){}`

 - 문제점 : 자신이 실제로 가지고 있지 않은 상위의 값도 가져와 계산한다.

for in 반복문은 객체의 속성들을 반복하여 작업을 수행할 수 있다. 모든 객체에서 사용이 가능하다. for in 구문은 객체의 key 값에 접근할 수 있지만, value 값에 접근하는 방법은 제공하지 않는다. 자바스크립트에서 객체 속성들은 내부적으로 사용하는 숨겨진 속성들을 가지고 있는데 그 중 하나가 [[Enumerable]]이며, for in 구문은 이 값이 true로 셋팅되어 속성들만 반복할 수 있다. 이러한 속성들을 열거형 속성이라고 부르며, 객체의 모든 내장 메서드를 비롯해 각종 내장 프로퍼티 같은 비열거형 속성은 반복되지 않는다.

### 2. for of문

`for (var value of iterable) { }`

for of 반복문은 ES6에 추가된 새로운 컬렉션 전용 반복 구문이다. for of 구문을 사용하기 위해선 컬렉션 객체가 [Symbol.iterator] 속성을 가지고 있어야만 한다(직접 명시 가능).

### for in문과 for of문의 차이점

- for in 반복문 : 객체의 모든 열거 가능한 속성에 대해 반복
- for of 반복문 : [Symbol.iterator] 속성을 가지는 컬렉션 전용

### 참고

[JAVASCRIPT.INFO - 객체](https://ko.javascript.info/object#ref-780)